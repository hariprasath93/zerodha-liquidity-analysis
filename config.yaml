# Zerodha Liquidity Analysis - Configuration

zerodha:
  api_key: ""       # Override via ZERODHA_API_KEY env var
  api_secret: ""    # Override via ZERODHA_API_SECRET env var
  user_id: ""       # Override via ZERODHA_USER_ID env var
  password: ""      # Override via ZERODHA_PASSWORD env var
  totp_secret: ""   # Override via ZERODHA_TOTP_SECRET env var

redis:
  host: "localhost"  # Override via REDIS_HOST env var (set to "redis" in Docker)
  port: 6379
  db: 0
  password: null
  stream_name: "ticks:raw"
  consumer_group: "tick_processors"
  consumer_name: "receiver_1"
  max_stream_length: 100000

connector:
  num_sockets: 3
  tick_mode: "full"
  login_time: "08:50"
  reconnect_max_retries: 50
  reconnect_max_delay: 60

instruments:
  exchange: "NFO"
  expiry_filter:
    weekly_expiries: 2
    monthly_expiries: 2
  strike_range_pct: null
  instrument_types:
    - "CE"
    - "PE"
    - "FUT"
  include_underlying: true
  underlying_exchange: "NSE"

persistence:
  db_path: "./data/ticks.db"
  dump_interval_seconds: 300
  redis_key_ttl_seconds: 86400
  parquet_enabled: false
  parquet_dir: "./data/parquet"

telegram:
  bot_token: ""      # Override via TELEGRAM_BOT_TOKEN env var
  chat_id: ""        # Override via TELEGRAM_CHAT_ID env var
  enabled: true

logging:
  level: "INFO"
  log_file: "./logs/app.log"
  max_bytes: 10485760
  backup_count: 5
